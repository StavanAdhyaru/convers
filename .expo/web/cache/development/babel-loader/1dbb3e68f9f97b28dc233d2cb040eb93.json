{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { auth, fireDB, storage } from \"../firebase\";\nvar userDBRef = fireDB.collection('users');\n\nvar getUserDetails = function _callee(userId) {\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n            try {\n              userDBRef.doc(userId).get().then(function (doc) {\n                resolve(doc.data());\n              }).catch(function (error) {\n                reject(error);\n              });\n            } catch (error) {\n              console.log('error: ', error);\n            }\n          }));\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar setUserStatus = function _callee2(userId, activeOrNot) {\n  return _regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          try {\n            userDBRef.doc(userId).set({\n              status: activeOrNot\n            });\n          } catch (error) {\n            console.log('error: ', error);\n          }\n\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar getAllUsers = function _callee3() {\n  return _regeneratorRuntime.async(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n            try {\n              var userData = [];\n              var eachUser = {};\n              userDBRef.get().then(function (snapshot) {\n                snapshot.forEach(function (doc) {\n                  eachUser = doc.data();\n                  eachUser.id = doc.id;\n                  userData.push(eachUser);\n                });\n                resolve(userData);\n              }).catch(function (error) {\n                reject(error);\n              });\n            } catch (error) {\n              console.log('error: ', error);\n            }\n          }));\n\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport { getUserDetails, getAllUsers };","map":{"version":3,"names":["auth","fireDB","storage","userDBRef","collection","getUserDetails","userId","Promise","resolve","reject","doc","get","then","data","catch","error","console","log","setUserStatus","activeOrNot","set","status","getAllUsers","userData","eachUser","snapshot","forEach","id","push"],"sources":["/Users/stavan/Documents/End_Sem_Project/API/user.js"],"sourcesContent":["import {auth, fireDB, storage} from '../firebase';\n\nconst userDBRef = fireDB.collection('users');\n\nconst getUserDetails = async (userId) => {\n    return new Promise((resolve, reject) => {\n        try {\n            userDBRef.doc(userId).get().then((doc) => {\n                resolve(doc.data());\n            }).catch((error) => {\n                reject(error);\n            })\n            \n        } catch (error) {\n            console.log('error: ', error);\n            \n        }\n    })\n}\n\nconst setUserStatus = async (userId,activeOrNot) => {\n    try{\n\n        userDBRef.doc(userId).set({\n            status: activeOrNot\n        });\n    }catch (error){\n        console.log('error: ',error);\n    }\n}\n\nconst getAllUsers = async () => {\n    return new Promise((resolve, reject) => {\n        try {\n            let userData = [];\n            let eachUser = {};\n            userDBRef.get().then((snapshot) => {\n                snapshot.forEach((doc) => {\n                    eachUser = doc.data();\n                    eachUser.id = doc.id;\n                    userData.push(eachUser);\n                    // console.log('userData: ', userData);\n                })\n                resolve(userData);\n\n            }).catch((error) => {\n                reject(error);\n            })\n            \n        } catch (error) {\n            console.log('error: ', error);\n            \n        }\n    })\n}\n\nexport{ getUserDetails, getAllUsers }"],"mappings":";AAAA,SAAQA,IAAR,EAAcC,MAAd,EAAsBC,OAAtB;AAEA,IAAMC,SAAS,GAAGF,MAAM,CAACG,UAAP,CAAkB,OAAlB,CAAlB;;AAEA,IAAMC,cAAc,GAAG,iBAAOC,MAAP;EAAA;IAAA;MAAA;QAAA;UAAA,iCACZ,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;YACpC,IAAI;cACAN,SAAS,CAACO,GAAV,CAAcJ,MAAd,EAAsBK,GAAtB,GAA4BC,IAA5B,CAAiC,UAACF,GAAD,EAAS;gBACtCF,OAAO,CAACE,GAAG,CAACG,IAAJ,EAAD,CAAP;cACH,CAFD,EAEGC,KAFH,CAES,UAACC,KAAD,EAAW;gBAChBN,MAAM,CAACM,KAAD,CAAN;cACH,CAJD;YAMH,CAPD,CAOE,OAAOA,KAAP,EAAc;cACZC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;YAEH;UACJ,CAZM,CADY;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAvB;;AAgBA,IAAMG,aAAa,GAAG,kBAAOZ,MAAP,EAAca,WAAd;EAAA;IAAA;MAAA;QAAA;UAClB,IAAG;YAEChB,SAAS,CAACO,GAAV,CAAcJ,MAAd,EAAsBc,GAAtB,CAA0B;cACtBC,MAAM,EAAEF;YADc,CAA1B;UAGH,CALD,CAKC,OAAOJ,KAAP,EAAa;YACVC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBF,KAAtB;UACH;;QARiB;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAtB;;AAWA,IAAMO,WAAW,GAAG;EAAA;IAAA;MAAA;QAAA;UAAA,kCACT,IAAIf,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;YACpC,IAAI;cACA,IAAIc,QAAQ,GAAG,EAAf;cACA,IAAIC,QAAQ,GAAG,EAAf;cACArB,SAAS,CAACQ,GAAV,GAAgBC,IAAhB,CAAqB,UAACa,QAAD,EAAc;gBAC/BA,QAAQ,CAACC,OAAT,CAAiB,UAAChB,GAAD,EAAS;kBACtBc,QAAQ,GAAGd,GAAG,CAACG,IAAJ,EAAX;kBACAW,QAAQ,CAACG,EAAT,GAAcjB,GAAG,CAACiB,EAAlB;kBACAJ,QAAQ,CAACK,IAAT,CAAcJ,QAAd;gBAEH,CALD;gBAMAhB,OAAO,CAACe,QAAD,CAAP;cAEH,CATD,EASGT,KATH,CASS,UAACC,KAAD,EAAW;gBAChBN,MAAM,CAACM,KAAD,CAAN;cACH,CAXD;YAaH,CAhBD,CAgBE,OAAOA,KAAP,EAAc;cACZC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;YAEH;UACJ,CArBM,CADS;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAApB;;AAyBA,SAAQV,cAAR,EAAwBiB,WAAxB"},"metadata":{},"sourceType":"module"}