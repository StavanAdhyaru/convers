{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useCallback, useState, useLayoutEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { auth, db } from \"../firebase\";\nimport { signOut } from 'firebase/auth';\nimport { GiftedChat } from 'react-native-gifted-chat';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Chat = function Chat(_ref) {\n  var _auth$currentUser, _auth$currentUser2;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      messages = _useState2[0],\n      setMessages = _useState2[1];\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerLeft: function headerLeft() {\n        return _jsx(View, {\n          style: {\n            marginLeft: 20\n          }\n        });\n      },\n      headerRight: function headerRight() {\n        return _jsx(TouchableOpacity, {\n          style: {\n            marginRight: 10\n          },\n          onPress: signOutNow,\n          children: _jsx(Text, {\n            children: \"logout\"\n          })\n        });\n      }\n    });\n  }, [navigation]);\n  useEffect(function () {\n    setMessages([{\n      _id: 1,\n      text: 'Hello developer',\n      createdAt: new Date(),\n      user: {\n        _id: 2,\n        name: 'React Native',\n        avatar: 'https://placeimg.com/140/140/any'\n      }\n    }]);\n  }, []);\n\n  var _onSend = useCallback(function () {\n    var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    setMessages(function (previousMessages) {\n      return GiftedChat.append(previousMessages, messages);\n    });\n  }, []);\n\n  return _jsx(GiftedChat, {\n    messages: messages,\n    showAvatarForEveryMessage: true,\n    onSend: function onSend(messages) {\n      return _onSend(messages);\n    },\n    user: {\n      _id: auth == null ? void 0 : (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.email,\n      name: \"Stavan\",\n      avatar: auth == null ? void 0 : (_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.photoURL\n    }\n  });\n};\n\nexport default Chat;","map":{"version":3,"names":["React","useEffect","useCallback","useState","useLayoutEffect","auth","db","signOut","GiftedChat","Chat","navigation","messages","setMessages","setOptions","headerLeft","marginLeft","headerRight","marginRight","signOutNow","_id","text","createdAt","Date","user","name","avatar","onSend","previousMessages","append","currentUser","email","photoURL"],"sources":["/Users/stavan/Documents/End_Sem_Project/screens/Chat.js"],"sourcesContent":["import React, { useEffect, useCallback, useState, useLayoutEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\n// import { Avatar } from 'react-native-elements';\nimport { auth, db } from '../firebase';\nimport { signOut } from 'firebase/auth';\nimport { GiftedChat } from 'react-native-gifted-chat';\n \nconst Chat = ({ navigation }) => {\n   const [messages, setMessages] = useState([]);\n//    const signOutNow = () => {\n//        signOut(auth).then(() => {\n//            // Sign-out successful.\n//            navigation.replace('Login');\n//        }).catch((error) => {\n//            // An error happened.\n//        });\n//    }\n   useLayoutEffect(() => {\n       navigation.setOptions({\n           headerLeft: () => (\n               <View style={{ marginLeft: 20 }}>\n                   {/* <Avatar\n                       rounded\n                       source={{\n                           uri: auth?.currentUser?.photoURL,\n                       }}\n                   /> */}\n               </View>\n           ),\n           headerRight: () => (\n               <TouchableOpacity style={{\n                   marginRight: 10\n               }}\n                   onPress={signOutNow}\n               >\n                   <Text>logout</Text>\n               </TouchableOpacity>\n           )\n       })\n   }, [navigation]);\n \n   useEffect(() => {\n       setMessages([\n           {\n               _id: 1,\n               text: 'Hello developer',\n               createdAt: new Date(),\n               user: {\n                   _id: 2,\n                   name: 'React Native',\n                   avatar: 'https://placeimg.com/140/140/any',\n               },\n           },\n       ])\n   }, []);\n   const onSend = useCallback((messages = []) => {\n       setMessages(previousMessages => GiftedChat.append(previousMessages, messages))\n   }, []);\n   return (\n       <GiftedChat\n           messages={messages}\n           showAvatarForEveryMessage={true}\n           onSend={messages => onSend(messages)}\n           user={{\n               _id: auth?.currentUser?.email,\n               name: \"Stavan\",\n               avatar: auth?.currentUser?.photoURL\n           }}\n       />\n   );\n}\n \nexport default Chat;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,WAA3B,EAAwCC,QAAxC,EAAkDC,eAAlD,QAAyE,OAAzE;;;;;AAGA,SAASC,IAAT,EAAeC,EAAf;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,SAASC,UAAT,QAA2B,0BAA3B;;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAoB;EAAA;;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;;EAC9B,gBAAgCP,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOQ,QAAP;EAAA,IAAiBC,WAAjB;;EASAR,eAAe,CAAC,YAAM;IAClBM,UAAU,CAACG,UAAX,CAAsB;MAClBC,UAAU,EAAE;QAAA,OACR,KAAC,IAAD;UAAM,KAAK,EAAE;YAAEC,UAAU,EAAE;UAAd;QAAb,EADQ;MAAA,CADM;MAWlBC,WAAW,EAAE;QAAA,OACT,KAAC,gBAAD;UAAkB,KAAK,EAAE;YACrBC,WAAW,EAAE;UADQ,CAAzB;UAGI,OAAO,EAAEC,UAHb;UAAA,UAKI,KAAC,IAAD;YAAA;UAAA;QALJ,EADS;MAAA;IAXK,CAAtB;EAqBH,CAtBc,EAsBZ,CAACR,UAAD,CAtBY,CAAf;EAwBAT,SAAS,CAAC,YAAM;IACZW,WAAW,CAAC,CACR;MACIO,GAAG,EAAE,CADT;MAEIC,IAAI,EAAE,iBAFV;MAGIC,SAAS,EAAE,IAAIC,IAAJ,EAHf;MAIIC,IAAI,EAAE;QACFJ,GAAG,EAAE,CADH;QAEFK,IAAI,EAAE,cAFJ;QAGFC,MAAM,EAAE;MAHN;IAJV,CADQ,CAAD,CAAX;EAYH,CAbQ,EAaN,EAbM,CAAT;;EAcA,IAAMC,OAAM,GAAGxB,WAAW,CAAC,YAAmB;IAAA,IAAlBS,QAAkB,uEAAP,EAAO;IAC1CC,WAAW,CAAC,UAAAe,gBAAgB;MAAA,OAAInB,UAAU,CAACoB,MAAX,CAAkBD,gBAAlB,EAAoChB,QAApC,CAAJ;IAAA,CAAjB,CAAX;EACH,CAFyB,EAEvB,EAFuB,CAA1B;;EAGA,OACI,KAAC,UAAD;IACI,QAAQ,EAAEA,QADd;IAEI,yBAAyB,EAAE,IAF/B;IAGI,MAAM,EAAE,gBAAAA,QAAQ;MAAA,OAAIe,OAAM,CAACf,QAAD,CAAV;IAAA,CAHpB;IAII,IAAI,EAAE;MACFQ,GAAG,EAAEd,IAAF,yCAAEA,IAAI,CAAEwB,WAAR,qBAAE,kBAAmBC,KADtB;MAEFN,IAAI,EAAE,QAFJ;MAGFC,MAAM,EAAEpB,IAAF,0CAAEA,IAAI,CAAEwB,WAAR,qBAAE,mBAAmBE;IAHzB;EAJV,EADJ;AAYF,CA/DD;;AAiEA,eAAetB,IAAf"},"metadata":{},"sourceType":"module"}